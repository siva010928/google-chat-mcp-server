@startuml Google Chat MCP Server Component Diagram

' Simplified component diagram with key elements

package "Google Chat MCP Server" {
  component "FastMCP Server" as FastMCP
  component "Google Chat API Client" as APIClient
  component "Authentication System" as Auth
  component "Token Manager" as TokenManager
  
  database "token.json" as TokenFile
  file "credentials.json" as CredFile
}

package "Google APIs" {
  component "Google Chat API" as GoogleChat
  component "People API" as People
  component "OAuth 2.0" as OAuth
}

' Define relationships
FastMCP --> APIClient : uses
APIClient --> TokenManager : requests credentials
APIClient --> GoogleChat : calls API
APIClient --> People : gets user info
Auth --> OAuth : authenticates via
TokenManager --> TokenFile : reads/writes
Auth --> CredFile : reads config
Auth --> TokenManager : creates tokens

' Add key details as notes
note right of FastMCP
  Exposes MCP tools for 
  Chat operations
end note

note right of APIClient
  Implements async functions for
  spaces, messages, and users
end note

note right of TokenManager
  Auto-refreshes expired tokens
  without user intervention
end note

' Simple interfaces
interface "MCP JSON-RPC" as MCPRPC
MCPRPC -- FastMCP

@enduml
